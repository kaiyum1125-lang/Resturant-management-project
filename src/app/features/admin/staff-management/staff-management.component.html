<app-sidebar></app-sidebar>
<div class="page-container">
  <h2>Staff Management</h2>
  <p>Manage all staff members, roles, and emails.</p>

  <!-- Staff Form -->
  <form [formGroup]="staffForm" (ngSubmit)="submitForm()" class="mb-4">
    <div class="row g-3 align-items-end">
      <div class="col-md-4">
        <label class="form-label">Name</label>
        <input type="text" class="form-control" formControlName="name">
      </div>

      <div class="col-md-4">
        <label class="form-label">Role</label>
        <input type="text" class="form-control" formControlName="role">
      </div>

      <div class="col-md-4">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" formControlName="email">
      </div>

      <div class="col-12 text-end">
        <button class="btn btn-success me-2" type="submit" [disabled]="staffForm.invalid">
          {{ editMode ? 'Update' : 'Add' }}
        </button>
        <button class="btn btn-secondary" type="button" (click)="resetForm()">Cancel</button>
      </div>
    </div>
  </form>

  <!-- Staff Table -->
  <div class="table-responsive">
    <table class="table table-bordered table-hover text-center">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Role</th>
          <th>Email</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody *ngIf="staffList.length > 0; else noData">
        <tr *ngFor="let staff of staffList">
          <td>{{ staff.name }}</td>
          <td>{{ staff.role }}</td>
          <td>{{ staff.email }}</td>
          <td>
            <button class="btn btn-sm btn-primary me-2" (click)="editStaff(staff)">Edit</button>
            <button class="btn btn-sm btn-danger" (click)="deleteStaff(staff)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <ng-template #noData>
      <tr>
        <td colspan="4" class="text-muted text-center">No staff available.</td>
      </tr>
    </ng-template>
  </div>
</div>
